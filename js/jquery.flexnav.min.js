/*! flexnav https://github.com/indyplanets/flexnav http://unlicense.org/ 2013-11-15 */
(function(){var a;a=jQuery,a.fn.flexNav=function(b){var c,d,e,f,g,h;return f=a.extend({transitionOpacity:!0,buttonSelector:".menu-button",hoverIntent:!1,hoverIntentTimeout:150},b),c=a(this),c.addClass("with-js"),f.transitionOpacity===!0&&c.addClass("opacity"),c.find("li").each(function(){return a(this).has("ul").length?a(this).addClass("item-with-ul").find("ul"):void 0}),g=function(){return c.hasClass("lg-screen")===!0?f.transitionOpacity===!0?a(this).find(">ul").addClass("show"):a(this).find(">ul").addClass("show"):void 0},d=function(){return c.hasClass("lg-screen")===!0&&a(this).find(">ul").hasClass("show")===!0?f.transitionOpacity===!0?a(this).find(">ul").removeClass("show"):a(this).find(">ul").removeClass("show"):void 0},e=function(){return c.removeClass("sm-screen").addClass("lg-screen"),c.removeClass("show"),f.hoverIntent===!0?a(".item-with-ul").hoverIntent({over:g,out:d,timeout:f.hoverIntentTimeout}):f.hoverIntent===!1?a(".item-with-ul").on("mouseenter",g).on("mouseleave",d):void 0},a(f.buttonSelector).data("navEl",c),h=f.buttonSelector+", "+f.buttonSelector+" .touch-button",a(h).on("click",function(b){var c,d,e;return a(h).toggleClass("active"),b.preventDefault(),b.stopPropagation(),e=f.buttonSelector,c=a(this).is(e)?a(this):a(this).parent(e),d=c.data("navEl"),d.toggleClass("show")}),a(".touch-button").on("click",function(){var b,d;return b=a(this).parent(".item-with-ul").find(">ul"),d=a(this).parent(".item-with-ul").find(">span.touch-button"),c.hasClass("lg-screen")===!0&&a(this).parent(".item-with-ul").siblings().find("ul.show").removeClass("show"),b.hasClass("show")===!0?(b.removeClass("show"),d.removeClass("active")):b.hasClass("show")===!1?(b.addClass("show"),d.addClass("active")):void 0}),c.find(".item-with-ul *").focus(function(){return a(this).parent(".item-with-ul").parent().find(".open").not(this).removeClass("open"),a(this).parent(".item-with-ul").find(">ul").addClass("open")}),e(),a(window).on("resize",e)}}).call(this);